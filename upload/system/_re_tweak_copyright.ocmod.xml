<?xml version="1.0" encoding="utf-8"?>
<modification>
<name>[OCN] OpenCart 3 RE Tweak CopyRight</name>
<version>3.0.3.3.RE1.0</version>
<author>Hkr</author>
<link>https://forum.opencart.name</link>
<code>ocn_30_re_tweak_copyright</code>
<date>01.05.2020</date>

<!-- Разделение языковых фраз для удобства -->
<file path="admin/language/en-gb/common/footer.php">
    <operation>
        <search trim="true"><![CDATA[
            $_['text_footer']  = '<a href="http://www.opencart.com">OpenCart</a> &copy; 2009-' . date('Y') . ' All Rights Reserved.';
        ]]></search>
        <add position="replace" trim="true" offset="2"><![CDATA[
            $_['text_footer']                = 'OpenCart';
            $_['text_footer_link']           = 'https://www.opencart.com';
            $_['text_footer_year']           = '2009';
            $_['text_footer_copyright_icon'] = '&copy;';
            $_['text_footer_copyright']      = 'All Rights Reserved.';
            $_['text_version']               = 'Version %s';
            $_['text_version_hidden']        = 'Version opencart';

            // RU
            $_['text_footer_ru']             = 'OpenCart Russian Edition';
            $_['text_footer_link_ru']        = 'https://forum.opencart.name';
            $_['text_footer_year_ru']        = '&copy; 2020-';
            $_['text_version_ru']            = 'Version OpenCart RE 3.0.3.3.1';
            $_['text_version_hidden_ru']     = 'OpenCart RE';
            $_['text_version_link_ru']       = 'https://forum.opencart.name/resources/13/';
        ]]></add>
    </operation>
</file>
<file path="admin/language/ru-ru/common/footer.php">
    <operation>
        <search trim="true"><![CDATA[
            $_['text_footer']  = '<a href="http://www.opencart.com">OpenCart</a> &copy; 2009-' . date('Y') . ' Все права защищены. <br> <a href="https://forum.opencart.name" target="_blank">ruOpenCart - русская сборка</a>';
        ]]></search>
        <add position="replace" trim="true" offset="2"><![CDATA[
            $_['text_footer']                = 'OpenCart';
            $_['text_footer_link']           = 'https://www.opencart.com';
            $_['text_footer_year']           = '2009';
            $_['text_footer_copyright_icon'] = '&copy;';
            $_['text_footer_copyright']      = 'Все права защищены.';
            $_['text_version']               = 'Версия %s';
            $_['text_version_hidden']        = 'Версия opencart';

            // RU
            $_['text_footer_ru']             = 'OpenCart Russian Edition';
            $_['text_footer_link_ru']        = 'https://forum.opencart.name';
            $_['text_footer_year_ru']        = '2020';
            $_['text_version_ru']            = 'Версия OpenCart RE 3.0.3.3.1';
            $_['text_version_hidden_ru']     = 'Версия OpenCart RE';
            $_['text_version_link_ru']       = 'https://forum.opencart.name/resources/13/';
        ]]></add>
    </operation>
</file>

<!-- Добавление языковых фраз в контроллере -->
<file path="admin/controller/common/footer.php">
    <operation>
        <search trim="true"><![CDATA[
            $data['text_version'] = sprintf($this->language->get('text_version'), VERSION);
        ]]></search>
        <add position="after" trim="true"><![CDATA[
            $data['text_version_ru'] = $this->language->get('text_version_ru');
        ]]></add>
    </operation>
    <operation>
        <search trim="true"><![CDATA[
            $data['text_version'] = '';
        ]]></search>
        <add position="replace" trim="true"><![CDATA[
            $data['text_version'] = $this->language->get('text_version_hidden');
            $data['text_version_ru'] = $this->language->get('text_version_hidden_ru');
        ]]></add>
    </operation>
    <operation>
        <search trim="true"><![CDATA[
            return $this->load->view('common/footer', $data);
        ]]></search>
        <add position="before" trim="true"><![CDATA[
            $data['text_footer_link'] = $this->language->get('text_footer_link');
            $data['text_footer_year'] = $this->language->get('text_footer_year');
            $data['text_footer_copyright_icon'] = $this->language->get('text_footer_copyright_icon');
            $data['text_footer_copyright'] = $this->language->get('text_footer_copyright');

            $data['text_footer_ru'] = $this->language->get('text_footer_ru');
            $data['text_footer_link_ru'] = $this->language->get('text_footer_link_ru');
            $data['text_footer_year_ru'] = $this->language->get('text_footer_year_ru');
            $data['text_version_link_ru'] = $this->language->get('text_version_link_ru');
        ]]></add>
    </operation>
</file>

<!-- Изменение верстки шаблона для вывода ссылок на сайт проекта сборки -->
<file path="admin/view/template/common/footer.twig">
    <operation>
        <search trim="true"><![CDATA[
            <footer id="footer">{{ text_footer }}<br />{{ text_version }}</footer></div>
        ]]></search>
        <add position="replace" trim="true"><![CDATA[
            <footer id="footer">
                <a href="{{ text_footer_link }}" target="_blank">{{ text_footer }}</a>
                {{ text_footer_copyright_icon }} {{ text_footer_year }}-{{ "now"|date("Y") }}
                {{ text_footer_copyright }}<br>
                <a href="{{ text_footer_link_ru }}" target="_blank">{{ text_footer_ru }}</a>
                {{ text_footer_copyright_icon }} {{ text_footer_year_ru }}-{{ "now"|date("Y") }}
                {{ text_footer_copyright }}<br>
                {{ text_version }} | <a href="{{ text_version_link_ru }}" target="_blank">{{ text_version_ru }}</a>
            </footer></div>
        ]]></add>
    </operation>
</file>

</modification>